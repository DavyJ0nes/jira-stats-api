plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.3.11'
}

group 'me.davyj0nes'
version '1.0-SNAPSHOT'
apply plugin: 'application'
mainClassName = 'me.davyj0nes.MainAppKt'

repositories {
    mavenCentral()
    maven {
        url = uri('https://packages.atlassian.com/maven/repository/public')
    }
}

ext.dropwizard_version = '1.3.8'
ext.jrjc_version = '5.1.0'

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    compile "io.dropwizard:dropwizard-core:$dropwizard_version"
    compile 'io.atlassian.fugue:fugue:4.7.1'
    compile group: 'org.codehaus.jettison', name: 'jettison', version: '1.1'
    compile ("com.atlassian.jira:jira-rest-java-client-core:$jrjc_version") {
        exclude group: 'io.dropwizard'
        exclude group: 'com.sun.jersey'
    }

}

compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}

run {
    args = ['server', 'config/local.yaml']
}